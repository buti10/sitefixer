<!doctype html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <title>{% block title %}Sitefixer SCAN{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap + Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body { background: #f6f8fa; }
        body.dark-mode { background: #16191d; color: #e7eaf3; }
        .dashboard-card, .scan-status-card {
            border-radius: 20px;
            background: #fff;
            box-shadow: 0 6px 24px rgba(60,72,88,0.11);
            padding: 2.5rem 2rem 2rem 2rem;
            margin: 2rem auto;
            max-width: 700px;
        }
        .navbar.sticky-top { box-shadow: 0 2px 10px rgba(40,50,120,0.08); }
        .dark-mode .dashboard-card, .dark-mode .scan-status-card { background: #23262d; color: #e7eaf3; }
        .scan-progress-bar { height: 32px; font-size: 1.07rem; }
        .status-counts .badge { font-size: 1.03rem; margin-right: 1rem; }
        .navbar { border-bottom: 1px solid #eee; }
        .dark-mode .navbar { background: #ec9109 !important; border-color: #1a1d21; }
        .collapse:not(.show) { display: none; }
        {% block style %}{% endblock %}
    </style>
</head>
<body id="mainBody">
    {% include 'navbar.html' %}
    {% block content %}{% endblock %}
    {% block scripts %}
    <script>
        const body = document.getElementById('mainBody') || document.body;
        const modeBtn = document.getElementById('toggleMode');
        const modeIcon = document.getElementById('modeIcon');
        let darkMode = localStorage.getItem('darkMode') === 'true';

        function setMode(dark) {
            if (dark) {
                body.classList.add('dark-mode');
                document.getElementById('navbarMain')?.classList.add('bg-dark', 'navbar-dark');
                modeIcon?.classList.remove('bi-moon-fill');
                modeIcon?.classList.add('bi-sun-fill');
            } else {
                body.classList.remove('dark-mode');
                document.getElementById('navbarMain')?.classList.remove('bg-dark', 'navbar-dark');
                modeIcon?.classList.remove('bi-sun-fill');
                modeIcon?.classList.add('bi-moon-fill');
            }
            localStorage.setItem('darkMode', dark);
        }
        setMode(darkMode);
        if (modeBtn) modeBtn.onclick = () => { darkMode = !darkMode; setMode(darkMode); };

        document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(el => {
            new bootstrap.Tooltip(el);
        });
    </script>
    {% endblock %}
</body>
</html>

import{d as c,m,j as i,o as v,c as l,b,a as s,F as x,r as g,s as f,l as _,v as y,t as a,h as d}from"./index-CEe5TGL3.js";const w={key:0,class:"grid lg:grid-cols-[1fr_320px] gap-4"},k={class:"rounded-xl border p-4 space-y-4"},h={class:"text-xs opacity-60"},M=["innerHTML"],j={class:"rounded-xl border p-4 space-y-3"},S={class:"text-sm"},D=["value"],L={class:"text-sm"},T={class:"mt-1"},B=c({__name:"MailDetail",setup(V){const u=m().params.id,o=i(null),n=i("");v(async()=>{const r=await fetch(`/mock/comms/mail/${u}.json`);o.value=await r.json()});function p(){n.value=""}return(r,e)=>o.value?(d(),l("div",w,[s("div",k,[(d(!0),l(x,null,g(o.value.messages,t=>(d(),l("div",{key:t.id,class:"rounded-lg border p-3"},[s("div",h,a(t.dir==="in"?"Von":"An")+" • "+a(new Date(t.ts).toLocaleString()),1),s("div",{class:"mt-2",innerHTML:t.html||t.text},null,8,M)]))),128)),s("form",{onSubmit:f(p,["prevent"]),class:"sticky bottom-0 bg-background"},[_(s("textarea",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),rows:"4",class:"w-full border rounded-lg p-3",placeholder:"Antwort schreiben…"},null,512),[[y,n.value]]),e[1]||(e[1]=s("div",{class:"mt-2 flex justify-end"},[s("button",{class:"px-3 py-1.5 border rounded-lg"},"Senden")],-1))],32)]),s("aside",j,[s("div",S,[e[3]||(e[3]=s("b",null,"Status",-1)),e[4]||(e[4]=s("br",null,null,-1)),s("select",{class:"border rounded px-2 py-1 text-sm",value:o.value.status},[...e[2]||(e[2]=[s("option",null,"open",-1),s("option",null,"waiting",-1),s("option",null,"closed",-1)])],8,D)]),e[6]||(e[6]=s("div",{class:"text-sm"},[s("b",null,"Assignee"),s("br"),s("button",{class:"px-2 py-1 border rounded text-sm"},"Übernehmen")],-1)),s("div",L,[e[5]||(e[5]=s("b",null,"Thema",-1)),s("div",T,a(o.value.subject),1)])])])):b("",!0)}});export{B as default};
